<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Checkout – Zing Zing Amazing</title>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #eafaf1;
      padding: 30px;
      text-align: center;
    }
    h2 {
      color: #2f3542;
    }
    p {
      font-size: 18px;
    }
    button {
      padding: 10px 25px;
      background-color: #1abc9c;
      border: none;
      color: white;
      font-weight: bold;
      font-size: 16px;
      border-radius: 5px;
    }
    button:hover {
      background-color: #16a085;
    }
  </style>
</head>
<body>
  <h2>Checkout</h2>
  <p>Total Amount: ₹{{ total }}</p>
  <button id="rzp-button">Pay Now</button>

  <form id="placeOrderForm" action="/place-order" method="post" style="display:none;"></form>

  <script>
    var options = {
      "key": "{{ razorpay_key }}",
      "amount": "{{ amount }}",
      "currency": "INR",
      "name": "Zing Zing Amazing",
      "description": "Order Payment",
      "order_id": "{{ razorpay_order_id }}",
      "handler": function (response){
        document.getElementById("placeOrderForm").submit();
      }
    };
    var rzp = new Razorpay(options);
    document.getElementById("rzp-button").onclick = function(e){
      rzp.open();
      e.preventDefault();
    }
  </script>
</body>
</html>
